#!/bin/bash

function get_primes() {
    if [ $# -ne 3 ]; then
        prime2=$(echo "$2 * $3" | bc)
    else
        prime2=$3
    fi

    prime1=$2
    num=${1//:/=}

    if [ $prime1 -gt $prime2 ]; then
        tmp=$prime2
        prime2=$prime1
        prime1=$tmp
    fi

    echo "$num$prime2*$prime1"
}

if [ $# -ne 1 ]; then
    echo "Usage: $0 <file>"
    exit 1
fi

while IFS= read -r number; do
    output=$(factor "$number")
    primes=($output)
    get_primes "${primes[@]}"
done < "$1"
